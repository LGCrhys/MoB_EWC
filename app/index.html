<!DOCTYPE html>
<html ng-app="plunker">

  <head>
    <meta charset="utf-8" />
    <title>Gridster + Angular-nvD3</title>
    <script>document.write('<base href="' + document.location + '" />');</script>
    <link rel="stylesheet" href="quotes/nv.d3.min.css"/>
    <script src="../bower_components/angular/angular.min.js"></script>
    <script src="quotes/d3.min.js" charset="utf-8"></script>
    <script src="quotes/nv.d3.min.js"></script>
    <script src="quotes/angular-nvd3.min.js"></script>

    <link rel="stylesheet" href="../bower_components/angular-gridster/dist/angular-gridster.min.css"/>
    <script src="../bower_components/angular-gridster/dist/angular-gridster.min.js"></script>

    <script src="../bower_components/jquery/dist/jquery.min.js"></script>

    <script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

    <script src="../bower_components/leaflet/dist/leaflet.js"></script>
    <script src="../bower_components/leaflet-plugins/layer/tile/Bing.js"></script>
    <script src="../bower_components/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
    <script src="../bower_components/angular-leaflet-directive/dist/angular-leaflet-directive.min.js"></script>
    <script src="../bower_components/Leaflet.label/dist/leaflet.label.js"></script>
    <script src="../bower_components/leaflet-search/dist/leaflet-search.src.js"></script>

    <link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap-theme.min.css" />
    <link rel="stylesheet" href="../bower_components/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="../bower_components/leaflet.markercluster/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="../bower_components/leaflet.markercluster/dist/MarkerCluster.Default.css" />
    <script src="bower_components/underscore/underscore.js"></script>
    <link rel="stylesheet" href="../bower_components/leaflet-search/dist/leaflet-search.min.css" />
    <link rel="stylesheet" href="../bower_components/Leaflet.label/dist/leaflet.label.css" />

    
    <script src = "data/Locs.js"></script>
    <script src = "data/carriers.js"></script>
    <script src="scripts/script.js"></script>
    <script src="scripts/dataService.js"></script>


    <link rel="stylesheet" href="styles/style.css" />

  </head>

  <body ng-controller="MainCtrl as mainCtrl">

  <nav class="navbar navbar-inverse">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">MoB EWC</a>
    </div>
  </nav>

  <div gridster="mainCtrl.gridsterOptions">

  	<ul class="with-3d-shadow with-transitions">
  		<li gridster-item="widget" ng-repeat="widget in mainCtrl.dashboard.widgets">
  		  <div class="box">
            <div class="box-header">
                <h3>{{ widget.name }}</h3>
            </div>
            <div class="box-content">
              <nvd3 options="widget.chart.options"
                    data="widget.chart.data"
                    api="widget.chart.api"
                    config="config"
                    events="events"></nvd3>
            </div>
        </div>
  		</li>
      <li gridster-item row="2" col="2" size-x="1" size-y="1">
        <div class="box">
          <div class="box-header">
                <h3>Radars</h3>
            </div>
            <div class="box-content-padded">
              Filtrer par nom : <input ng-model="mainCtrl.filterCriteria.nom">
              <div id="table-wrapper">
                <div id="table-scroll">
                  <table>
                      <thead>
                          <tr>
                              <th><span class="text">Nom</span></th>
                              <th><span class="text">Date mise Ã  jour</span></th>
                          </tr>
                      </thead>
                      <tbody>
                        <tr ng-repeat="radar in mainCtrl.datatable.radars | filter : mainCtrl.filterCriteria">
                                  <td>{{radar.nom}}</td>
                                  <td>{{radar.dateMaj}}</td>
                                </tr>
                      </tbody>
                  </table>
                </div>
              </div>
            </div>
        </div>
      </li>
      <li gridster-item col="3" row="0" size-x="2" size-y="2">
        <div class="box">
          <div class="box-header">
            <h3>Leaflet Map</h3>
          </div>
          <div class="map" ng-controller="LeafletMapsController">
              <leaflet lf-center="center" controls="controls" layers="layers" markers="markers" width="100%" height="95%"></leaflet>
          </div>
        </div>
      </li>
  	</ul>
  </div>
  </body>

</html>
